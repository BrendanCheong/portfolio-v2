---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import { Experience } from '@/components/Experience.tsx';
import Projects from '@/components/Projects.astro';
import HeroActions from '@/components/HeroActions.astro';
import ViewMoreLink from '@/components/ViewMoreLink.astro';
import homeData from '@/data/home.json';
import { Image } from 'astro:assets';
import profileImg from '@/assets/profile.png';


const LIMIT = 2;
---

<Layout title="Brendan Cheong | Software Engineer">
  <Header slot="header" />
  
  <article class="flex flex-col gap-16 pb-16">
    <!-- Hero Section -->
    <section class="flex flex-col items-start gap-8 md:flex-row-reverse md:items-center md:justify-between">
      <div class="relative">
        <Image
          src={profileImg}
          alt="Brendan Cheong"
          width={160}
          height={160}
          format="webp"
          quality={90}
          loading="eager"
          class="size-40 rounded-full object-cover shadow-lg md:size-48"
        />
      </div>

      <div class="flex max-w-[320px] flex-col sm:max-w-full">
        <h1 class="title text-balance text-4xl sm:text-5xl">
          {homeData.introduction.greeting}
        </h1>

        <p class="mt-2 whitespace-nowrap text-sm font-medium sm:text-base">
          {homeData.age}yo software engineer from {homeData.location}
        </p>

        <p class="mt-4 max-w-sm text-balance text-sm sm:text-base">
          {homeData.introduction.description}
        </p>

        <HeroActions />
      </div>
    </section>

    <!-- Experience Section -->
    <section>
      <Experience client:load />
    </section>

    <!-- Featured Projects Section -->
    <section class="flex flex-col gap-8">
      <div class="flex items-center justify-between">
        <h2 class="title text-2xl sm:text-3xl">Featured projects</h2>
        <ViewMoreLink href="/projects" />
      </div>
      <Projects limit={LIMIT} />
    </section>
  </article>

  <Footer slot="footer" />
</Layout>
